{"version":3,"sources":["images/Logo.svg","images/icon-success.svg","images/icon-fail.svg","components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","utils/Api.js","utils/Auth.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/InfoTooltip.js","components/ProtectedRoute.js","components/Login.js","components/Register.js","components/App.js","index.js"],"names":["module","exports","__webpack_require__","p","Header","props","react_default","a","createElement","className","src","Logo","alt","react_router","path","react_router_dom","to","email","onClick","handleSignOut","Footer","Date","getFullYear","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwner","card","owner","_id","isLiked","likes","some","i","link","name","onCardClick","type","concat","aria-label","onCardLike","length","onCardDelete","Main","_ref","onEditProfile","onEditAvatar","onAddPlace","cards","avatar","id","about","map","components_Card","key","api","Api","baseUrl","headers","Object","classCallCheck","this","_headers","_baseUrl","res","ok","json","Promise","reject","status","fetch","then","_checkResponse","method","body","JSON","stringify","Content-Type","BASE_URL","checkResponse","statusText","register","password","authorize","checkToken","token","Authorization","PopupWithForm","title","children","isOpen","onClose","onSubmit","buttonText","ImagePopup","EditProfilePopup","onUpdateUser","_useState","useState","_useState2","slicedToArray","userName","setUserName","_useState3","_useState4","userProfession","setUserProfession","useEffect","components_PopupWithForm","evt","preventDefault","required","minLength","maxLength","placeholder","value","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","setName","setLink","InfoTooltip","isSuccess","Fragment","successIcon","failIcon","ProtectedRoute","Component","component","objectWithoutProperties","loggedIn","Login","setEmail","setPassword","e","handleLogin","Register","handleRegister","App","isEditProfileOpen","setEditProfileOpen","isEditAvatarOpen","setEditAvatarOpen","_useState5","_useState6","isAddPlaceOpen","setAddPlaceOpen","_useState7","_useState8","isImageOpen","setImageOpen","_useState9","_useState10","selectedCard","setSelectedCard","_useState11","_useState12","setCurrentUser","_useState13","_useState14","setCards","_useState15","_useState16","_useState17","_useState18","setIsSuccess","_useState19","_useState20","isInfoTooltipOpen","setIsInfoTooltipOpen","_useState21","_useState22","setLoggedIn","history","useHistory","closePopups","jwt","localStorage","getItem","auth","console","log","data","push","catch","err","getProfile","userInfo","getInitialCards","Provider","components_Header","removeItem","components_ProtectedRoute","exact","deleteCard","filter","c","error","changeLikeStatus","newCard","state","components_Register","components_Login","setItem","components_Footer","components_InfoTooltip","components_EditProfilePopup","user","editProfile","components_EditAvatarPopup","changeAvatar","components_AddPlacePopup","addCard","toConsumableArray","components_ImagePopup","ReactDOM","render","StrictMode","components_App","document","getElementById"],"mappings":"4EAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,qDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,6DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,kOCqCzBC,MAjCf,SAAgBC,GACd,OACEC,EAAAC,EAAAC,cAAA,UAAQC,UAAU,UAChBH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAeC,IAAKC,IAAMC,IAAI,mCAC7CN,EAAAC,EAAAC,cAACK,EAAA,EAAD,KACEP,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAOC,KAAK,YACVR,EAAAC,EAAAC,cAACO,EAAA,EAAD,CAAMC,GAAG,WAAWP,UAAU,gBAA9B,uEAIFH,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAOC,KAAK,YACVR,EAAAC,EAAAC,cAACO,EAAA,EAAD,CAAMC,GAAG,UAAUP,UAAU,gBAA7B,mCAKFH,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAOC,KAAK,KACVR,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACbH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,iBAAiBJ,EAAMY,OACpCX,EAAAC,EAAAC,cAACO,EAAA,EAAD,CACEC,GAAG,WACHP,UAAU,eACVS,QAASb,EAAMc,eAHjB,uCCdGC,MARf,WACE,OACEd,EAAAC,EAAAC,cAAA,UAAQC,UAAU,UAChBH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,qBAAb,SAA0C,IAAIY,MAAMC,cAApD,mBCFOC,EAAqBC,IAAMC,gBCoDzBC,MAnDf,SAAcrB,GACZ,IAAMsB,EAAcC,qBAAWL,GAEzBM,EAAUxB,EAAMyB,KAAKC,MAAMC,MAAQL,EAAYK,IAE/CC,EAAU5B,EAAMyB,KAAKI,MAAMC,KAAK,SAACC,GAAD,OAAOA,EAAEJ,MAAQL,EAAYK,MAYnE,OACE1B,EAAAC,EAAAC,cAAA,WAASC,UAAU,QACjBH,EAAAC,EAAAC,cAAA,OACEC,UAAU,cACVC,IAAKL,EAAMyB,KAAKO,KAChBzB,IAAKP,EAAMyB,KAAKQ,KAChBpB,QAhBN,WACEb,EAAMkC,YAAYlC,EAAMyB,SAiBtBxB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAeJ,EAAMyB,KAAKQ,MACxChC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACbH,EAAAC,EAAAC,cAAA,UACEgC,KAAK,SACL/B,UAAS,qBAAAgC,OACPR,GAAW,4BAEbS,aAAW,2BACXxB,QAxBV,WACEb,EAAMsC,WAAWtC,EAAMyB,SAyBjBxB,EAAAC,EAAAC,cAAA,QAAMC,UAAU,qBAAqBJ,EAAMyB,KAAKI,MAAMU,UAGzDf,GACCvB,EAAAC,EAAAC,cAAA,UACEgC,KAAK,SACL/B,UAAU,sBACViC,aAAW,6CACXxB,QA/BR,WACEb,EAAMwC,aAAaxC,EAAMyB,WCmDdgB,MAhEf,SAAAC,GAQG,IAPDC,EAOCD,EAPDC,cACAC,EAMCF,EANDE,aACAC,EAKCH,EALDG,WACAX,EAICQ,EAJDR,YACAI,EAGCI,EAHDJ,WACAE,EAECE,EAFDF,aACAM,EACCJ,EADDI,MAEMxB,EAAcC,qBAAWL,GAE/B,OACEjB,EAAAC,EAAAC,cAAA,QAAMC,UAAU,QACdH,EAAAC,EAAAC,cAAA,WAASC,UAAU,WACjBH,EAAAC,EAAAC,cAAA,UACEgC,KAAK,SACL/B,UAAU,yBACViC,aAAW,sHACXxB,QAAS+B,GAET3C,EAAAC,EAAAC,cAAA,OACEC,UAAU,kBACVC,IAAG,GAAA+B,OAAKd,EAAYyB,QACpBxC,IAAI,0CAGRN,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,gBAAgB4C,GAAG,iBAC9B1B,EAAYW,MAEfhC,EAAAC,EAAAC,cAAA,KAAGC,UAAU,sBAAsB4C,GAAG,uBACnC1B,EAAY2B,QAGjBhD,EAAAC,EAAAC,cAAA,UACEgC,KAAK,SACL/B,UAAU,uBACViC,aAAW,4HACXxB,QAAS8B,KAGb1C,EAAAC,EAAAC,cAAA,UACEgC,KAAK,SACL/B,UAAU,sBACViC,aAAW,mDACXxB,QAASgC,KAGb5C,EAAAC,EAAAC,cAAA,WAASC,UAAU,SAChB0C,EAAMI,IAAI,SAACzB,GAAD,OACTxB,EAAAC,EAAAC,cAACgD,EAAD,CACEC,IAAK3B,EAAKE,IACVF,KAAMA,EACNS,YAAaA,EACbI,WAAYA,EACZE,aAAcA,yBCgBXa,EANH,eApEV,SAAAC,EAAAZ,GAAkC,IAApBa,EAAoBb,EAApBa,QAASC,EAAWd,EAAXc,QAAWC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,GAChCK,KAAKC,SAAWJ,EAChBG,KAAKE,SAAWN,6DAGHO,GACb,OAAOA,EAAIC,GAAKD,EAAIE,OAASC,QAAQC,OAAOJ,EAAIK,6CAIhD,OAAOC,MAAK,GAAAhC,OAAIuB,KAAKE,SAAT,aAA8B,CACxCL,QAASG,KAAKC,WACbS,KAAKV,KAAKW,0DAIb,OAAOF,MAAK,GAAAhC,OAAIuB,KAAKE,SAAT,UAA2B,CACrCL,QAASG,KAAKC,WACbS,KAAKV,KAAKW,oDAGHrC,EAAMgB,GAChB,OAAOmB,MAAK,GAAAhC,OAAIuB,KAAKE,SAAT,aAA8B,CACxCU,OAAQ,QACRf,QAASG,KAAKC,SACdY,KAAMC,KAAKC,UAAU,CACnBzC,OACAgB,YAEDoB,KAAKV,KAAKW,gDAGPrC,EAAMD,GACZ,OAAOoC,MAAK,GAAAhC,OAAIuB,KAAKE,SAAT,UAA2B,CACrCU,OAAQ,OACRf,QAASG,KAAKC,SACdY,KAAMC,KAAKC,UAAU,CACnBzC,OACAD,WAEDqC,KAAKV,KAAKW,mDAGJtB,GACT,OAAOoB,MAAK,GAAAhC,OAAIuB,KAAKE,SAAT,WAAAzB,OAA2BY,GAAM,CAC3CuB,OAAQ,SACRf,QAASG,KAAKC,WACbS,KAAKV,KAAKW,yDAGEtB,EAAIpB,GACnB,OAAOwC,MAAK,GAAAhC,OAAIuB,KAAKE,SAAT,WAAAzB,OAA2BY,EAA3B,UAAuC,CACjDuB,OAAQ3C,EAAU,MAAQ,SAC1B4B,QAASG,KAAKC,WACbS,KAAKV,KAAKW,qDAGFvB,GACX,OAAOqB,MAAK,GAAAhC,OAAIuB,KAAKE,SAAT,oBAAqC,CAC/CU,OAAQ,QACRf,QAASG,KAAKC,SACdY,KAAMC,KAAKC,UAAU,CACnB3B,aAEDsB,KAAKV,KAAKW,yBAIL,CAAQ,CAClBf,QAAS,wBACTC,QAAS,CACPmB,eAAgB,sBCzEPC,EAAW,wBAExB,SAASC,EAAcf,GACrB,OAAIA,EAAIC,GACCD,EAAIE,OAGJC,QAAQC,OAAR,wCAAA9B,OAAyB0B,EAAIK,OAA7B,MAAA/B,OAAwC0B,EAAIgB,aAKhD,IAAMC,EAAW,SAACnE,EAAOoE,GAC9B,OAAOZ,MAAK,GAAAhC,OAAIwC,EAAJ,WAAuB,CACjCL,OAAQ,OACRf,QAAS,CACPmB,eAAgB,oBAElBH,KAAMC,KAAKC,UAAU,CAAEM,WAAUpE,YAElCyD,KAAK,SAACP,GAAD,OAASe,EAAcf,MAIlBmB,EAAY,SAACrE,EAAOoE,GAC/B,OAAOZ,MAAK,GAAAhC,OAAIwC,EAAJ,WAAuB,CACjCL,OAAQ,OACRf,QAAS,CACPmB,eAAgB,oBAElBH,KAAMC,KAAKC,UAAU,CAAE9D,QAAOoE,eAE/BX,KAAK,SAACP,GAAD,OAASe,EAAcf,MAIlBoB,EAAa,SAACC,GACzB,OAAOf,MAAK,GAAAhC,OAAIwC,EAAJ,aAAyB,CACnCL,OAAQ,MACRf,QAAS,CACPmB,eAAgB,mBAChBS,cAAA,UAAAhD,OAA2B+C,MAG9Bd,KAAK,SAAAP,GAAG,OAAIe,EAAcf,MCNduB,MApCf,SAAA3C,GAQG,IAPDT,EAOCS,EAPDT,KACAqD,EAMC5C,EAND4C,MACAC,EAKC7C,EALD6C,SACAC,EAIC9C,EAJD8C,OACAC,EAGC/C,EAHD+C,QACAC,EAEChD,EAFDgD,SACAC,EACCjD,EADDiD,WAEA,OACE1F,EAAAC,EAAAC,cAAA,WAASC,UAAS,oBAAAgC,OAAsBH,EAAtB,KAAAG,OAA8BoD,GAAU,iBACxDvF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACbH,EAAAC,EAAAC,cAAA,UACEgC,KAAK,SACL/B,UAAU,sBACVS,QAAS4E,IAEXxF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,gBAAgBkF,GAC9BrF,EAAAC,EAAAC,cAAA,QACEC,UAAS,gCAAAgC,OAAkCH,GAC3CA,KAAMA,EACNyD,SAAUA,GAETH,EACDtF,EAAAC,EAAAC,cAAA,UACEgC,KAAK,SACL/B,UAAS,yCAAAgC,OAA2CH,IAEnD0D,OCZEC,MAjBf,SAAAlD,GAA+C,IAAzBjB,EAAyBiB,EAAzBjB,KAAM+D,EAAmB9C,EAAnB8C,OAAQC,EAAW/C,EAAX+C,QAClC,OACExF,EAAAC,EAAAC,cAAA,WAASC,UAAS,0BAAAgC,OAA4BoD,GAAU,iBACtDvF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,0BACbH,EAAAC,EAAAC,cAAA,UACEgC,KAAK,SACL/B,UAAU,sBACViC,aAAW,sEACXxB,QAAS4E,IAEXxF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAeC,IAAKoB,EAAKO,KAAMzB,IAAKkB,EAAKQ,OACxDhC,EAAAC,EAAAC,cAAA,KAAGC,UAAU,sBAAsBqB,EAAKQ,SC+DjC4D,MAvEf,SAAAnD,GAA6D,IAAjC8C,EAAiC9C,EAAjC8C,OAAQC,EAAyB/C,EAAzB+C,QAASK,EAAgBpD,EAAhBoD,aACrCxE,EAAcC,qBAAWL,GAD4B6E,EAE3BC,mBAAS,IAFkBC,EAAAxC,OAAAyC,EAAA,EAAAzC,CAAAsC,EAAA,GAEpDI,EAFoDF,EAAA,GAE1CG,EAF0CH,EAAA,GAAAI,EAGfL,mBAAS,IAHMM,EAAA7C,OAAAyC,EAAA,EAAAzC,CAAA4C,EAAA,GAGpDE,EAHoDD,EAAA,GAGpCE,EAHoCF,EAAA,GAyB3D,OApBAG,oBAAU,WACRL,EAAY9E,EAAYW,MACxBuE,EAAkBlF,EAAY2B,QAC7B,CAAC3B,EAAakE,IAkBfvF,EAAAC,EAAAC,cAACuG,EAAD,CACEzE,KAAK,UACLqD,MAAM,4HACNK,WAAW,yDACXH,OAAQA,EACRC,QAASA,EACTK,aAAcA,EACdJ,SAhBJ,SAAsBiB,GACpBA,EAAIC,iBACJd,EAAa,CACX7D,KAAMkE,EACNlD,MAAOsD,MAcPtG,EAAAC,EAAAC,cAAA,SACEC,UAAU,yCACV4C,GAAG,OACHf,KAAK,OACL4E,UAAQ,EACRC,UAAU,IACVC,UAAU,KACV5E,KAAK,OACL6E,YAAY,qBACZC,MAAOd,GAAY,GACnBe,SAnCN,SAA0BP,GACxBP,EAAYO,EAAIQ,OAAOF,UAoCrBhH,EAAAC,EAAAC,cAAA,QACEC,UAAU,sCACV4C,GAAG,eAEL/C,EAAAC,EAAAC,cAAA,SACEC,UAAU,+CACV4C,GAAG,aACHf,KAAK,aACL4E,UAAQ,EACRC,UAAU,IACVC,UAAU,MACV5E,KAAK,OACL6E,YAAY,4KACZC,MAAOV,GAAkB,GACzBW,SA/CN,SAAgCP,GAC9BH,EAAkBG,EAAIQ,OAAOF,UAgD3BhH,EAAAC,EAAAC,cAAA,QACEC,UAAU,sCACV4C,GAAG,uBC3BIoE,MAvCf,SAAA1E,GAA8D,IAAnC8C,EAAmC9C,EAAnC8C,OAAQC,EAA2B/C,EAA3B+C,QAAS4B,EAAkB3E,EAAlB2E,eACpCC,EAAYC,iBAAO,IAWzB,OAJAd,oBAAU,WACJjB,IAAQ8B,EAAUE,QAAQP,MAAQ,KACrC,CAACzB,IAGFvF,EAAAC,EAAAC,cAACuG,EAAD,CACEzE,KAAK,SACLqD,MAAM,wFACNK,WAAW,yDACXH,OAAQA,EACRC,QAASA,EACTC,SAhBJ,SAAsBiB,GACpBA,EAAIC,iBACJS,EAAeC,EAAUE,QAAQP,QAe/BI,eAAgBA,GAEhBpH,EAAAC,EAAAC,cAAA,SACEC,UAAU,mCACV4C,GAAG,SACHf,KAAK,SACL4E,UAAQ,EACR1E,KAAK,MACLsF,IAAKH,EACLN,YAAY,2FAEd/G,EAAAC,EAAAC,cAAA,QACEC,UAAU,sCACV4C,GAAG,mBCkCI0E,MAnEf,SAAAhF,GAAwD,IAA/B8C,EAA+B9C,EAA/B8C,OAAQC,EAAuB/C,EAAvB+C,QAAS5C,EAAcH,EAAdG,WAAckD,EAC9BC,mBAAS,IADqBC,EAAAxC,OAAAyC,EAAA,EAAAzC,CAAAsC,EAAA,GAC/C9D,EAD+CgE,EAAA,GACzC0B,EADyC1B,EAAA,GAAAI,EAE9BL,mBAAS,IAFqBM,EAAA7C,OAAAyC,EAAA,EAAAzC,CAAA4C,EAAA,GAE/CrE,EAF+CsE,EAAA,GAEzCsB,EAFyCtB,EAAA,GAwBtD,OAPAG,oBAAU,WACJjB,IACFmC,EAAQ,IACRC,EAAQ,MAET,CAACpC,IAGFvF,EAAAC,EAAAC,cAACuG,EAAD,CACEzE,KAAK,WACLqD,MAAM,gEACNK,WAAW,6CACXH,OAAQA,EACRC,QAASA,EACTC,SA3BJ,SAAsBiB,GACpBA,EAAIC,iBACJ/D,EAAW,CAAEZ,OAAMD,WA2BjB/B,EAAAC,EAAAC,cAAA,SACEC,UAAU,0CACV4C,GAAG,QACHf,KAAK,OACL4E,UAAQ,EACRC,UAAU,IACVC,UAAU,KACV5E,KAAK,OACL6E,YAAY,mDACZE,SAjCN,SAA0BP,GACxBgB,EAAQhB,EAAIQ,OAAOF,QAiCfA,MAAOhF,GAAQ,KAEjBhC,EAAAC,EAAAC,cAAA,QACEC,UAAU,sCACV4C,GAAG,gBAEL/C,EAAAC,EAAAC,cAAA,SACEC,UAAU,0CACV4C,GAAG,OACHf,KAAK,OACL4E,UAAQ,EACR1E,KAAK,MACL6E,YAAY,qGACZE,SA3CN,SAA0BP,GACxBiB,EAAQjB,EAAIQ,OAAOF,QA2CfA,MAAOjF,GAAQ,KAEjB/B,EAAAC,EAAAC,cAAA,QACEC,UAAU,sCACV4C,GAAG,mDCpBI6E,MAxCf,SAAAnF,GAAqD,IAA9B8C,EAA8B9C,EAA9B8C,OAAQC,EAAsB/C,EAAtB+C,QAASqC,EAAapF,EAAboF,UACtC,OACE7H,EAAAC,EAAAC,cAAA,WACEC,UAAS,gCAAAgC,OAAkCoD,GAAU,iBAErDvF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACbH,EAAAC,EAAAC,cAAA,UACEgC,KAAK,SACL/B,UAAU,sBACVS,QAAS4E,IAGVqC,EACC7H,EAAAC,EAAAC,cAAAF,EAAAC,EAAA6H,SAAA,KACE9H,EAAAC,EAAAC,cAAA,OACEC,UAAU,wBACVG,IAAI,wKACJF,IAAK2H,MAEP/H,EAAAC,EAAAC,cAAA,KAAGC,UAAU,wBAAb,0KAKFH,EAAAC,EAAAC,cAAAF,EAAAC,EAAA6H,SAAA,KACE9H,EAAAC,EAAAC,cAAA,OACEC,UAAU,wBACVG,IAAI,sMACJF,IAAK4H,MAEPhI,EAAAC,EAAAC,cAAA,KAAGC,UAAU,wBAAb,qNCtBG8H,EATQ,SAAAxF,GAAwC,IAA1ByF,EAA0BzF,EAArC0F,UAAyBpI,EAAYyD,OAAA4E,EAAA,EAAA5E,CAAAf,EAAA,eACzD,OACAzC,EAAAC,EAAAC,cAACK,EAAA,EAAD,KACGR,EAAMsI,SAAWrI,EAAAC,EAAAC,cAACgI,EAAcnI,GAAYC,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAUG,GAAG,eC6CnD4H,MAjDf,SAAevI,GAAO,IAAA+F,EACMC,mBAAS,IADfC,EAAAxC,OAAAyC,EAAA,EAAAzC,CAAAsC,EAAA,GACbnF,EADaqF,EAAA,GACNuC,EADMvC,EAAA,GAAAI,EAEYL,mBAAS,IAFrBM,EAAA7C,OAAAyC,EAAA,EAAAzC,CAAA4C,EAAA,GAEbrB,EAFasB,EAAA,GAEHmC,EAFGnC,EAAA,GAiBpB,OACErG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,4BACAH,EAAAC,EAAAC,cAAA,QAAMuF,SARV,SAAsBgD,GACpBA,EAAE9B,iBACF5G,EAAM2I,YAAY3D,EAAUpE,IAMIR,UAAU,kBACtCH,EAAAC,EAAAC,cAAA,SACEC,UAAU,kBACV4C,GAAG,QACHf,KAAK,QACL4E,UAAQ,EACR1E,KAAK,QACL6E,YAAY,QACZC,MAAOrG,GAAS,GAChBsG,SAzBR,SAA2BwB,GACzBF,EAASE,EAAEvB,OAAOF,UA0BdhH,EAAAC,EAAAC,cAAA,SACEC,UAAU,kBACV4C,GAAG,WACHf,KAAK,WACL4E,UAAQ,EACR1E,KAAK,WACL6E,YAAY,uCACZC,MAAOjC,GAAY,GACnBkC,SA/BR,SAA8BwB,GAC5BD,EAAYC,EAAEvB,OAAOF,UAgCjBhH,EAAAC,EAAAC,cAAA,UAAQgC,KAAK,SAAS/B,UAAU,oBAAhC,qCCiBOwI,MAzDf,SAAkB5I,GAAO,IAAA+F,EACGC,mBAAS,IADZC,EAAAxC,OAAAyC,EAAA,EAAAzC,CAAAsC,EAAA,GAChBnF,EADgBqF,EAAA,GACTuC,EADSvC,EAAA,GAAAI,EAESL,mBAAS,IAFlBM,EAAA7C,OAAAyC,EAAA,EAAAzC,CAAA4C,EAAA,GAEhBrB,EAFgBsB,EAAA,GAENmC,EAFMnC,EAAA,GAiBvB,OACErG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,sEACAH,EAAAC,EAAAC,cAAA,QAAMuF,SARV,SAAsBgD,GACpBA,EAAE9B,iBACF5G,EAAM6I,eAAe7D,EAAUpE,IAMCR,UAAU,kBACtCH,EAAAC,EAAAC,cAAA,SACEC,UAAU,kBACV4C,GAAG,QACHf,KAAK,QACL4E,UAAQ,EACR1E,KAAK,QACL6E,YAAY,QACZC,MAAOrG,GAAS,GAChBsG,SAzBR,SAA2BwB,GACzBF,EAASE,EAAEvB,OAAOF,UA0BdhH,EAAAC,EAAAC,cAAA,SACEC,UAAU,kBACV4C,GAAG,WACHf,KAAK,WACL4E,UAAQ,EACR1E,KAAK,WACL6E,YAAY,uCACZC,MAAOjC,GAAY,GACnBkC,SA/BR,SAA8BwB,GAC5BD,EAAYC,EAAEvB,OAAOF,UAgCjBhH,EAAAC,EAAAC,cAAA,UAAQgC,KAAK,SAAS/B,UAAU,oBAAhC,iHAIFH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACbH,EAAAC,EAAAC,cAAA,gIACwB,IACtBF,EAAAC,EAAAC,cAACO,EAAA,EAAD,CAAMC,GAAG,WAAWP,UAAU,kBAA9B,sCCsNK0I,MAvPf,WAAe,IAAA/C,EACmCC,oBAAS,GAD5CC,EAAAxC,OAAAyC,EAAA,EAAAzC,CAAAsC,EAAA,GACNgD,EADM9C,EAAA,GACa+C,EADb/C,EAAA,GAAAI,EAEiCL,oBAAS,GAF1CM,EAAA7C,OAAAyC,EAAA,EAAAzC,CAAA4C,EAAA,GAEN4C,EAFM3C,EAAA,GAEY4C,EAFZ5C,EAAA,GAAA6C,EAG6BnD,oBAAS,GAHtCoD,EAAA3F,OAAAyC,EAAA,EAAAzC,CAAA0F,EAAA,GAGNE,EAHMD,EAAA,GAGUE,EAHVF,EAAA,GAAAG,EAIuBvD,oBAAS,GAJhCwD,EAAA/F,OAAAyC,EAAA,EAAAzC,CAAA8F,EAAA,GAINE,EAJMD,EAAA,GAIOE,EAJPF,EAAA,GAAAG,EAK2B3D,mBAAS,IALpC4D,EAAAnG,OAAAyC,EAAA,EAAAzC,CAAAkG,EAAA,GAKNE,EALMD,EAAA,GAKQE,EALRF,EAAA,GAAAG,EAMyB/D,mBAAS,IANlCgE,EAAAvG,OAAAyC,EAAA,EAAAzC,CAAAsG,EAAA,GAMNzI,EANM0I,EAAA,GAMOC,EANPD,EAAA,GAAAE,EAOalE,mBAAS,IAPtBmE,EAAA1G,OAAAyC,EAAA,EAAAzC,CAAAyG,EAAA,GAONpH,EAPMqH,EAAA,GAOCC,EAPDD,EAAA,GAAAE,EAQarE,mBAAS,IARtBsE,EAAA7G,OAAAyC,EAAA,EAAAzC,CAAA4G,EAAA,GAQNzJ,EARM0J,EAAA,GAQC9B,EARD8B,EAAA,GAAAC,GASqBvE,oBAAS,GAT9BwE,GAAA/G,OAAAyC,EAAA,EAAAzC,CAAA8G,GAAA,GASNzC,GATM0C,GAAA,GASKC,GATLD,GAAA,GAAAE,GAUqC1E,oBAAS,GAV9C2E,GAAAlH,OAAAyC,EAAA,EAAAzC,CAAAiH,GAAA,GAUNE,GAVMD,GAAA,GAUaE,GAVbF,GAAA,GAAAG,GAWmB9E,oBAAS,GAX5B+E,GAAAtH,OAAAyC,EAAA,EAAAzC,CAAAqH,GAAA,GAWNxC,GAXMyC,GAAA,GAWIC,GAXJD,GAAA,GAYPE,GAAUC,cAqChB,SAASC,KACPnC,GAAmB,GACnBE,GAAkB,GAClBI,GAAgB,GAChBI,GAAa,GACbI,EAAgB,IAChBe,KAqFF,SAAS3F,KACP,IAAMkG,EAAMC,aAAaC,QAAQ,OAC7BF,IACFX,IAAa,GACbc,EACcH,GACX/G,KAAK,SAACP,GACL0H,QAAQC,IAAI,UAAW3H,GACvB0E,EAAS1E,EAAI4H,KAAK9K,OAClBoK,IAAY,GACZC,GAAQU,KAAK,OAEdC,MAAM,SAACC,GACNL,QAAQC,IAAI,OAAQI,GACpBpB,IAAa,GACbI,IAAqB,MAe7B,OA5JApE,oBAAU,WACR,GAAI6B,GAiBF,OAhBAjF,EACGyI,aACAzH,KAAK,SAAC0H,GACL9B,EAAe8B,KAEhBH,MAAM,SAAC9H,GACN0H,QAAQC,IAAI3H,UAEhBT,EACG2I,kBACA3H,KAAK,SAACvB,GACLsH,EAAStH,KAEV8I,MAAM,SAAC9H,GACN0H,QAAQC,IAAI3H,MAIjB,CAACwE,KAoIJ7B,oBAAU,WACRvB,MACC,IAGDjF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACbH,EAAAC,EAAAC,cAACe,EAAmB+K,SAApB,CAA6BhF,MAAO3F,GAClCrB,EAAAC,EAAAC,cAAC+L,EAAD,CACEpL,cAdR,WACEuK,aAAac,WAAW,OACxBnB,IAAY,GACZC,GAAQU,KAAK,aAYP/K,MAAOA,EACP0H,SAAUA,KAGZrI,EAAAC,EAAAC,cAACK,EAAA,EAAD,KACEP,EAAAC,EAAAC,cAACiM,EAAD,CACEC,OAAK,EACL5L,KAAK,IACL6H,SAAUA,GACVF,UAAW3F,EACXE,cArJV,WACEqG,GAAmB,IAqJXpG,aAnJV,WACEsG,GAAkB,IAmJVrG,WAjJV,WACEyG,GAAgB,IAiJRpH,YA/IV,SAAyBT,GACvBiI,GAAa,GACbI,EAAgBrI,IA8IRqB,MAAOA,EACPN,aAjHV,SAA0Bf,GACxB4B,EACGiJ,WAAW7K,EAAKE,KAChB0C,KAAK,WACJ+F,EAAS,SAACtH,GAAD,OAAWA,EAAMyJ,OAAO,SAACC,GAAD,OAAOA,EAAE7K,MAAQF,EAAKE,UAExDiK,MAAM,SAACa,GAAD,OAAWjB,QAAQC,IAAIgB,MA4GxBnK,WAzGV,SAAwBb,GACtB,IAAMG,EAAUH,EAAKI,MAAMC,KAAK,SAACC,GAAD,OAAOA,EAAEJ,MAAQL,EAAYK,MAC7D0B,EACGqJ,iBAAiBjL,EAAKE,KAAMC,GAC5ByC,KAAK,SAACsI,GACLvC,EAAS,SAACwC,GAAD,OACPA,EAAM1J,IAAI,SAACsJ,GAAD,OAAQA,EAAE7K,MAAQF,EAAKE,IAAMgL,EAAUH,QAGpDZ,MAAM,SAACa,GAAD,OAAWjB,QAAQC,IAAIgB,QAkG1BxM,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAOC,KAAK,YACVR,EAAAC,EAAAC,cAAC0M,EAAD,CAAUhE,eAvFpB,SAAwBjI,EAAOoE,GAC7B,OAAOuG,EAAcvG,EAAUpE,GAC5ByD,KAAK,WACJoG,IAAa,GACbI,IAAqB,GACrBI,GAAQU,KAAK,YACbH,QAAQC,IAAI,OAEbG,MAAM,SAACC,GACNL,QAAQC,IAAI,OAAQI,GACpBpB,IAAa,GACbI,IAAqB,SA+EnB5K,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAOC,KAAK,YACVR,EAAAC,EAAAC,cAAC2M,EAAD,CAAOnE,YA5EjB,SAAqB3D,EAAUpE,GAC7B,OAAO2K,EACM3K,EAAOoE,GACjBX,KAAK,SAACqH,GACLlD,EAAS5H,GACTyK,aAAa0B,QAAQ,MAAOrB,EAAKvG,OACjCD,KACA+F,GAAQU,KAAK,KACbX,IAAY,GACZQ,QAAQC,IAAI,OAEbG,MAAM,SAACC,GACNL,QAAQC,IAAI,OAAQI,GACpBpB,IAAa,GACbI,IAAqB,SAiEnB5K,EAAAC,EAAAC,cAACK,EAAA,EAAD,KACG8H,GAAWrI,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAUG,GAAG,MAASV,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAUG,GAAG,eAKlD2H,IAAYrI,EAAAC,EAAAC,cAAC6M,EAAD,MAEb/M,EAAAC,EAAAC,cAAC8M,EAAD,CACEzH,OAAQoF,GACRnF,QAAS0F,GACTrD,UAAWA,KAGb7H,EAAAC,EAAAC,cAAC+M,EAAD,CACE1H,OAAQuD,EACRtD,QAAS0F,GACTrF,aAhKR,SAA0BqH,GACxB9J,EACG+J,YAAYD,EAAKlL,KAAMkL,EAAKlK,OAC5BoB,KAAK,SAAC8I,GACLlD,EAAekD,GACfhC,OAEDS,MAAM,SAACa,GAAD,OAAWjB,QAAQC,IAAIgB,QA2J5BxM,EAAAC,EAAAC,cAACkN,EAAD,CACE7H,OAAQyD,EACRxD,QAAS0F,GACT9D,eA5JR,SAA4BtE,GAC1BM,EACGiK,aAAavK,GACbsB,KAAK,SAAC8I,GACLlD,EAAekD,GACfhC,OAEDS,MAAM,SAACa,GAAD,OAAWjB,QAAQC,IAAIgB,QAuJ5BxM,EAAAC,EAAAC,cAACoN,EAAD,CACE/H,OAAQ6D,EACR5D,QAAS0F,GACTtI,WAlIR,SAA8BpB,GAC5B4B,EACGmK,QAAQ/L,EAAKQ,KAAMR,EAAKO,MACxBqC,KAAK,SAACP,GACLsG,EAAQ,CAAEtG,GAAF1B,OAAAqB,OAAAgK,EAAA,EAAAhK,CAAUX,KAClBqI,OAEDS,MAAM,SAACa,GAAD,OAAWjB,QAAQC,IAAIgB,QA8H5BxM,EAAAC,EAAAC,cAACuG,EAAD,CACEzE,KAAK,SACLqD,MAAM,2DACNK,WAAW,iBAGb1F,EAAAC,EAAAC,cAACuN,EAAD,CACEjM,KAAMoI,EACNrE,OAAQiE,EACRhE,QAAS0F,QC5PnBwC,IAASC,OACP3N,EAAAC,EAAAC,cAACF,EAAAC,EAAM2N,WAAP,KACE5N,EAAAC,EAAAC,cAACO,EAAA,EAAD,KACET,EAAAC,EAAAC,cAAC2N,EAAD,QAGJC,SAASC,eAAe","file":"static/js/main.0fbe7510.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Logo.7baba3c1.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon-success.e38b395c.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon-fail.4072126c.svg\";","import React from \"react\";\nimport { Route, Switch, Link } from \"react-router-dom\";\nimport Logo from \"../images/Logo.svg\";\n\nfunction Header(props) {\n  return (\n    <header className=\"header\">\n      <img className=\"header__logo\" src={Logo} alt=\"Место\" />\n      <Switch>\n        <Route path=\"/sign-in\">\n          <Link to=\"/sign-up\" className=\"header__link\">\n            Регистрация\n          </Link>\n        </Route>\n        <Route path=\"/sign-up\">\n          <Link to=\"sign-in\" className=\"header__link\">\n            Войти\n          </Link>\n        </Route>\n\n        <Route path=\"/\">\n          <div className=\"header__authorized\">\n            <p className=\"header__email\">{props.email}</p>\n            <Link\n              to=\"/sign-in\"\n              className=\"header__link\"\n              onClick={props.handleSignOut}\n            >\n              Выйти\n            </Link>\n          </div>\n        </Route>\n      </Switch>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; {(new Date).getFullYear()} Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\n","import React, {useContext} from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n  const currentUser = useContext(CurrentUserContext);\n  // Определяем, являемся ли мы владельцем текущей карточки\n  const isOwner = props.card.owner._id === currentUser._id;\n  // Снова проверяем, есть ли уже лайк на этой карточке\n  const isLiked = props.card.likes.some((i) => i._id === currentUser._id);\n\n  function handleCardClick() {\n    props.onCardClick(props.card);\n  }\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n  function handleDeleteClick() {\n    props.onCardDelete(props.card);\n  }\n\n  return (\n    <article className=\"card\">\n      <img\n        className=\"card__image\"\n        src={props.card.link}\n        alt={props.card.name}\n        onClick={handleCardClick}\n      />\n      <div className=\"card__location\">\n        <h2 className=\"card__title\">{props.card.name}</h2>\n        <div className=\"card__likes\">\n          <button\n            type=\"button\"\n            className={`card__like-button ${\n              isLiked && \"card__like-button_active\"\n            }`}\n            aria-label=\"Лайк\"\n            onClick={handleLikeClick}\n          ></button>\n          <span className=\"card__like-number\">{props.card.likes.length}</span>\n        </div>\n      </div>\n      {isOwner && (\n        <button\n          type=\"button\"\n          className=\"card__delete-button\"\n          aria-label=\"Удалить\"\n          onClick={handleDeleteClick}\n        ></button>\n      )}\n    </article>\n  );\n}\n\nexport default Card;\n","import React, { useContext } from \"react\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Main({\n  onEditProfile,\n  onEditAvatar,\n  onAddPlace,\n  onCardClick,\n  onCardLike,\n  onCardDelete,\n  cards,\n}) {\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <main className=\"main\">\n      <section className=\"profile\">\n        <button\n          type=\"button\"\n          className=\"profile__avatar-button\"\n          aria-label=\"редактировать аватар\"\n          onClick={onEditAvatar}\n        >\n          <img\n            className=\"profile__avatar\"\n            src={`${currentUser.avatar}`}\n            alt=\"Аватар\"\n          />\n        </button>\n        <div className=\"profile__biography\">\n          <div className=\"profile__info\">\n            <h1 className=\"profile__name\" id=\"profile__name\">\n              {currentUser.name}\n            </h1>\n            <p className=\"profile__profession\" id=\"profile__profession\">\n              {currentUser.about}\n            </p>\n          </div>\n          <button\n            type=\"button\"\n            className=\"profile__edit-button\"\n            aria-label=\"редактировать профиль\"\n            onClick={onEditProfile}\n          ></button>\n        </div>\n        <button\n          type=\"button\"\n          className=\"profile__add-button\"\n          aria-label=\"добавить\"\n          onClick={onAddPlace}\n        ></button>\n      </section>\n      <section className=\"cards\">\n        {cards.map((card) => (\n          <Card\n            key={card._id}\n            card={card}\n            onCardClick={onCardClick}\n            onCardLike={onCardLike}\n            onCardDelete={onCardDelete}\n          />\n        ))}\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","\nclass Api {\n  constructor({ baseUrl, headers }) {\n    this._headers = headers;\n    this._baseUrl = baseUrl;\n  }\n\n  _checkResponse(res) {\n    return res.ok ? res.json() : Promise.reject(res.status);\n  }\n\n  getProfile() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  editProfile(name, about) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        about,\n      }),\n    }).then(this._checkResponse);\n  }\n\n  addCard(name, link) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        link,\n      }),\n    }).then(this._checkResponse);\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._baseUrl}/cards/${id}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  changeLikeStatus(id, isLiked) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: isLiked ? \"PUT\" : \"DELETE\",\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  changeAvatar(avatar) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar,\n      }),\n    }).then(this._checkResponse);\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"http://localhost:3000\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\nexport default api;\n","export const BASE_URL = 'http://localhost:3000';\n\nfunction checkResponse(res) {\n  if (res.ok) {\n    return res.json()\n  }\n  else {\n    return Promise.reject(`Ошибка ${res.status}: ${res.statusText}`)\n  }\n}\n\n//Параметры запроса для регистрации в нашем сервисе\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({ password, email  })\n  })\n  .then((res) => checkResponse(res));\n};\n\n//Параметры запроса для авторизации в нашем сервисе\nexport const authorize = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({ email, password })\n  })\n  .then((res) => checkResponse(res));\n};\n\n//Параметры запроса для проверки валидности токена и получения email для вставки в шапку сайта\nexport const checkToken = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": `Bearer ${token}`\n    }\n  })\n  .then(res => checkResponse(res));\n};\n","import React from \"react\";\n\nfunction PopupWithForm({\n  name,\n  title,\n  children,\n  isOpen,\n  onClose,\n  onSubmit,\n  buttonText,\n}) {\n  return (\n    <article className={`popup popup_type_${name} ${isOpen && \"popup_active\"}`}>\n      <div className=\"popup__container\">\n        <button\n          type=\"button\"\n          className=\"popup__close-button\"\n          onClick={onClose}\n        ></button>\n        <h2 className=\"popup__title\">{title}</h2>\n        <form\n          className={`popup__form popup__form_type_${name}`}\n          name={name}\n          onSubmit={onSubmit}\n          >\n          {children}\n          <button\n            type=\"submit\"\n            className={`popup__save-button popup__save-button_${name}`}\n          >\n            {buttonText}\n          </button>\n        </form>\n      </div>\n    </article>\n  );\n}\n\nexport default PopupWithForm;\n","import React from 'react';\nfunction ImagePopup({ card, isOpen, onClose }) {\n  return (\n    <article className={`popup popup_type_image ${isOpen && \"popup_active\"}`}>\n      <div className=\"popup__container-image\">\n        <button\n          type=\"button\"\n          className=\"popup__close-button\"\n          aria-label=\"Закрыть окно\"\n          onClick={onClose}\n        ></button>\n        <img className=\"popup__image\" src={card.link} alt={card.name} />\n        <p className=\"popup__title-image\">{card.name}</p>\n      </div>\n    </article>\n  );\n}\n\nexport default ImagePopup;\n","import React, {useContext, useState, useEffect} from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  const currentUser = useContext(CurrentUserContext);\n  const [userName, setUserName] = useState(\"\");\n  const [userProfession, setUserProfession] = useState(\"\");\n\n  useEffect(() => {\n    setUserName(currentUser.name);\n    setUserProfession(currentUser.about);\n  }, [currentUser, isOpen]);\n\n  function handleChangeName(evt) {\n    setUserName(evt.target.value);\n  }\n\n  function handleChangeProfession(evt) {\n    setUserProfession(evt.target.value);\n  }\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateUser({\n      name: userName,\n      about: userProfession,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"profile\"\n      title=\"Редактировать профиль\"\n      buttonText=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onUpdateUser={onUpdateUser}\n      onSubmit={handleSubmit}\n    >\n      <input\n        className=\"popup__input popup__input_profile_name\"\n        id=\"name\"\n        name=\"name\"\n        required\n        minLength=\"2\"\n        maxLength=\"40\"\n        type=\"text\"\n        placeholder=\"Имя\"\n        value={userName || ''}\n        onChange={handleChangeName}\n      />\n      <span\n        className=\"error-message error-message_visible\"\n        id=\"error-name\"\n      ></span>\n      <input\n        className=\"popup__input popup__input_profile_profession\"\n        id=\"profession\"\n        name=\"profession\"\n        required\n        minLength=\"2\"\n        maxLength=\"200\"\n        type=\"text\"\n        placeholder=\"Профессиональная деятельность\"\n        value={userProfession || ''}\n        onChange={handleChangeProfession}\n      />\n      <span\n        className=\"error-message error-message_visible\"\n        id=\"error-profession\"\n      ></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React, {useRef, useEffect} from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n  const avatarRef = useRef(\"\");\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateAvatar(avatarRef.current.value);\n  }\n\n  useEffect(() => {\n    if (isOpen) avatarRef.current.value = \"\";\n  }, [isOpen]);\n\n  return (\n    <PopupWithForm\n      name=\"avatar\"\n      title=\"Обновить аватар\"\n      buttonText=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      onUpdateAvatar={onUpdateAvatar}\n    >\n      <input\n        className=\"popup__input popup__input_avatar\"\n        id=\"avatar\"\n        name=\"avatar\"\n        required\n        type=\"url\"\n        ref={avatarRef}\n        placeholder=\"Ссылка на аватар\"\n      />\n      <span\n        className=\"error-message error-message_visible\"\n        id=\"error-avatar\"\n      ></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React, {useEffect, useState} from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n  const [name, setName] = useState(\"\");\n  const [link, setLink] = useState(\"\");\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onAddPlace({ name, link });\n  }\n\n  function handleChangeName(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleChangeLink(evt) {\n    setLink(evt.target.value);\n  }\n\n  useEffect(() => {\n    if (isOpen) {\n      setName(\"\");\n      setLink(\"\");\n    }\n  }, [isOpen]);\n\n  return (\n    <PopupWithForm\n      name=\"new-card\"\n      title=\"Новое место\"\n      buttonText=\"Создать\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        className=\"popup__input popup__input_location_name\"\n        id=\"title\"\n        name=\"name\"\n        required\n        minLength=\"2\"\n        maxLength=\"30\"\n        type=\"text\"\n        placeholder=\"Название\"\n        onChange={handleChangeName}\n        value={name || ''}\n      />\n      <span\n        className=\"error-message error-message_visible\"\n        id=\"error-title\"\n      ></span>\n      <input\n        className=\"popup__input popup__input_location_link\"\n        id=\"link\"\n        name=\"link\"\n        required\n        type=\"url\"\n        placeholder=\"Ссылка на картинку\"\n        onChange={handleChangeLink}\n        value={link || ''}\n      />\n      <span\n        className=\"error-message error-message_visible\"\n        id=\"error-link\"\n      ></span>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from \"react\";\nimport successIcon from \"../images/icon-success.svg\";\nimport failIcon from \"../images/icon-fail.svg\";\n\nfunction InfoTooltip({ isOpen, onClose, isSuccess }) {\n  return (\n    <article\n      className={`popup popup_type_infoTooltip ${isOpen && \"popup_active\"}`}\n    >\n      <div className=\"popup__container\">\n        <button\n          type=\"button\"\n          className=\"popup__close-button\"\n          onClick={onClose}\n        ></button>\n\n        {isSuccess ? (\n          <>\n            <img\n              className=\"popup__register-image\"\n              alt=\"Вы успешно зарегистрировались!\"\n              src={successIcon}\n            />\n            <p className=\"popup__register-text\">\n              Вы успешно зарегистрировались!\n            </p>\n          </>\n        ) : (\n          <>\n            <img\n              className=\"popup__register-image\"\n              alt=\"Что-то пошло не так! Попробуйте ещё раз.\"\n              src={failIcon}\n            />\n            <p className=\"popup__register-text\">\n              \"Что-то пошло не так! Попробуйте ещё раз.\"\n            </p>\n          </>\n        )}\n      </div>\n    </article>\n  );\n}\n\nexport default InfoTooltip;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n      return (\n      <Route>\n        {props.loggedIn ? <Component {...props} /> : <Redirect to='/sign-in' />\n        }\n      </Route>\n    )\n  }\n\nexport default ProtectedRoute;\n","import React, { useState } from \"react\";\n\nfunction Login(props) {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  function handleChangeEmail(e) {\n    setEmail(e.target.value);\n  }\n\n  function handleChangePassword(e) {\n    setPassword(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.handleLogin(password, email);\n  }\n\n  return (\n    <div className=\"register\">\n      <h2 className=\"register__title\">Вход</h2>\n      <form onSubmit={handleSubmit} className=\"register__form\">\n        <input\n          className=\"register__input\"\n          id=\"email\"\n          name=\"email\"\n          required\n          type=\"email\"\n          placeholder=\"Email\"\n          value={email || \"\"}\n          onChange={handleChangeEmail}\n        />\n        <input\n          className=\"register__input\"\n          id=\"password\"\n          name=\"password\"\n          required\n          type=\"password\"\n          placeholder=\"Пароль\"\n          value={password || \"\"}\n          onChange={handleChangePassword}\n        />\n        <button type=\"submit\" className=\"register__submit\">\n          Войти\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default Login;\n","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction Register(props) {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  function handleChangeEmail(e) {\n    setEmail(e.target.value);\n  }\n\n  function handleChangePassword(e) {\n    setPassword(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.handleRegister(password, email);\n  }\n\n  return (\n    <div className=\"register\">\n      <h2 className=\"register__title\">Регистрация</h2>\n      <form onSubmit={handleSubmit} className=\"register__form\">\n        <input\n          className=\"register__input\"\n          id=\"email\"\n          name=\"email\"\n          required\n          type=\"email\"\n          placeholder=\"Email\"\n          value={email || \"\"}\n          onChange={handleChangeEmail}\n        />\n        <input\n          className=\"register__input\"\n          id=\"password\"\n          name=\"password\"\n          required\n          type=\"password\"\n          placeholder=\"Пароль\"\n          value={password || \"\"}\n          onChange={handleChangePassword}\n        />\n        <button type=\"submit\" className=\"register__submit\">\n          Зарегистрироваться\n        </button>\n      </form>\n      <div className=\"register__signin\">\n        <p>\n          Уже зарегистрированы?{\" \"}\n          <Link to=\"/sign-in\" className=\"register__link\">\n            Войти\n          </Link>\n        </p>\n      </div>\n    </div>\n  );\n}\n\nexport default Register;\n","import React, { useEffect, useState } from \"react\";\nimport { useHistory, Switch, Route, Redirect } from \"react-router-dom\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport Main from \"./Main\";\nimport api from \"../utils/Api\";\nimport * as auth from \"../utils/Auth\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport ImagePopup from \"./ImagePopup\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\n\nfunction App() {\n  const [isEditProfileOpen, setEditProfileOpen] = useState(false);\n  const [isEditAvatarOpen, setEditAvatarOpen] = useState(false);\n  const [isAddPlaceOpen, setAddPlaceOpen] = useState(false);\n  const [isImageOpen, setImageOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({});\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n  const [email, setEmail] = useState(\"\");\n  const [isSuccess, setIsSuccess] = useState(true);\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = useState(false);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const history = useHistory();\n\n  useEffect(() => {\n    if (loggedIn) {\n      api\n        .getProfile()\n        .then((userInfo) => {\n          setCurrentUser(userInfo);\n        })\n        .catch((res) => {\n          console.log(res);\n        });\n      api\n        .getInitialCards()\n        .then((cards) => {\n          setCards(cards);\n        })\n        .catch((res) => {\n          console.log(res);\n        });\n      return;\n    }\n  }, [loggedIn]);\n\n  function handleEditProfileClick() {\n    setEditProfileOpen(true);\n  }\n  function handleEditAvatarClick() {\n    setEditAvatarOpen(true);\n  }\n  function handleAddPlaceClick() {\n    setAddPlaceOpen(true);\n  }\n  function handleCardClick(card) {\n    setImageOpen(true);\n    setSelectedCard(card);\n  }\n  function closePopups() {\n    setEditProfileOpen(false);\n    setEditAvatarOpen(false);\n    setAddPlaceOpen(false);\n    setImageOpen(false);\n    setSelectedCard({});\n    setIsInfoTooltipOpen();\n  }\n\n  function handleUpdateUser(user) {\n    api\n      .editProfile(user.name, user.about)\n      .then((user) => {\n        setCurrentUser(user);\n        closePopups();\n      })\n      .catch((error) => console.log(error));\n  }\n  function handleUpdateAvatar(avatar) {\n    api\n      .changeAvatar(avatar)\n      .then((user) => {\n        setCurrentUser(user);\n        closePopups();\n      })\n      .catch((error) => console.log(error));\n  }\n\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        setCards((cards) => cards.filter((c) => c._id !== card._id));\n      })\n      .catch((error) => console.log(error));\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api\n      .changeLikeStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((state) =>\n          state.map((c) => (c._id === card._id ? newCard : c))\n        );\n      })\n      .catch((error) => console.log(error));\n  }\n\n  function handleAddPlaceSubmit(card) {\n    api\n      .addCard(card.name, card.link)\n      .then((res) => {\n        setCards([res, ...cards]);\n        closePopups();\n      })\n      .catch((error) => console.log(error));\n  }\n  function handleRegister(email, password) {\n    return auth.register(password, email)\n      .then(() => {\n        setIsSuccess(true);\n        setIsInfoTooltipOpen(true);\n        history.push(\"/sign-in\");\n        console.log(\"1\");\n      })\n      .catch((err) => {\n        console.log(\"err:\", err);\n        setIsSuccess(false);\n        setIsInfoTooltipOpen(true);\n      });\n  }\n\n  function handleLogin(password, email) {\n    return auth\n      .authorize(email, password)\n      .then((data) => {\n        setEmail(email);\n        localStorage.setItem(\"jwt\", data.token);\n        checkToken();\n        history.push(\"/\");\n        setLoggedIn(true);\n        console.log(\"2\");\n      })\n      .catch((err) => {\n        console.log(\"err:\", err);\n        setIsSuccess(false);\n        setIsInfoTooltipOpen(true);\n      });\n  }\n\n  function checkToken() {\n    const jwt = localStorage.getItem(\"jwt\");\n    if (jwt) {\n      setIsSuccess(true);\n      auth\n        .checkToken(jwt)\n        .then((res) => {\n          console.log(\"token: \", res);\n          setEmail(res.data.email);\n          setLoggedIn(true);\n          history.push(\"/\");\n        })\n        .catch((err) => {\n          console.log(\"err:\", err);\n          setIsSuccess(false);\n          setIsInfoTooltipOpen(true);\n        });\n    }\n  }\n\n  function handleSignOut() {\n    localStorage.removeItem(\"jwt\");\n    setLoggedIn(false);\n    history.push(\"/sign-in\");\n  }\n\n  useEffect(() => {\n    checkToken();\n  }, []);\n\n  return (\n    <div className=\"root\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header\n          handleSignOut={handleSignOut}\n          email={email}\n          loggedIn={loggedIn}\n        />\n\n        <Switch>\n          <ProtectedRoute\n            exact\n            path=\"/\"\n            loggedIn={loggedIn}\n            component={Main}\n            onEditProfile={handleEditProfileClick}\n            onEditAvatar={handleEditAvatarClick}\n            onAddPlace={handleAddPlaceClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardDelete={handleCardDelete}\n            onCardLike={handleCardLike}\n          />\n          <Route path=\"/sign-up\">\n            <Register handleRegister={handleRegister} />\n          </Route>\n\n          <Route path=\"/sign-in\">\n            <Login handleLogin={handleLogin} />\n          </Route>\n\n          <Route>\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n          </Route>\n\n        </Switch>\n\n        {loggedIn && <Footer />}\n\n        <InfoTooltip\n          isOpen={isInfoTooltipOpen}\n          onClose={closePopups}\n          isSuccess={isSuccess}\n        />\n\n        <EditProfilePopup\n          isOpen={isEditProfileOpen}\n          onClose={closePopups}\n          onUpdateUser={handleUpdateUser}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarOpen}\n          onClose={closePopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlaceOpen}\n          onClose={closePopups}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n\n        <PopupWithForm\n          name=\"delete\"\n          title=\"Вы уверены?\"\n          buttonText=\"Да\"\n        ></PopupWithForm>\n\n        <ImagePopup\n          card={selectedCard}\n          isOpen={isImageOpen}\n          onClose={closePopups}\n        />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}